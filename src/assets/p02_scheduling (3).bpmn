<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:bioc="http://bpmn.io/schema/bpmn/biocolor/1.0" xmlns:color="http://www.omg.org/spec/BPMN/non-normative/color/1.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:modeler="http://camunda.org/schema/modeler/1.0" id="Definitions_0ck4owc" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="5.16.0" modeler:executionPlatform="Camunda Platform" modeler:executionPlatformVersion="7.20.0">
  <bpmn:process id="p02Scheduling" name="p02 Scheduling" isExecutable="true" camunda:versionTag="1">
    <bpmn:startEvent id="p02TreatSchedule" name="E01. treat schedule">
      <bpmn:outgoing>Flow_1xtaq3r</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:serviceTask id="t01LoadData" name="T01. Fetch Data to treat" camunda:asyncBefore="true" camunda:type="external" camunda:topic="loadDataTopic">
      <bpmn:incoming>Flow_1pngowx</bpmn:incoming>
      <bpmn:outgoing>Flow_0d3h8yf</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:endEvent id="Event_09jbwn6">
      <bpmn:incoming>Flow_0zj37ha</bpmn:incoming>
      <bpmn:incoming>Flow_1rp5zot</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:subProcess id="p02eachUsage" name="each usage" camunda:asyncBefore="true">
      <bpmn:extensionElements />
      <bpmn:incoming>Flow_11mv6dl</bpmn:incoming>
      <bpmn:outgoing>Flow_10cslmg</bpmn:outgoing>
      <bpmn:multiInstanceLoopCharacteristics isSequential="true" camunda:asyncBefore="true" camunda:collection="usages" camunda:elementVariable="usage" />
      <bpmn:startEvent id="Event_150j8y1" camunda:asyncBefore="true">
        <bpmn:outgoing>Flow_1phlcwg</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:subProcess id="p02eachRule" name="while rule to treat" camunda:asyncBefore="true">
        <bpmn:incoming>Flow_1phlcwg</bpmn:incoming>
        <bpmn:outgoing>Flow_0wesyaw</bpmn:outgoing>
        <bpmn:startEvent id="Event_0yflnfj" camunda:asyncBefore="true">
          <bpmn:outgoing>Flow_1rnuuqe</bpmn:outgoing>
        </bpmn:startEvent>
        <bpmn:endEvent id="Event_15u5yxc">
          <bpmn:incoming>Flow_190mkcx</bpmn:incoming>
        </bpmn:endEvent>
        <bpmn:serviceTask id="t04TreatRule" name="T04. treat the rule" camunda:asyncBefore="true" camunda:type="external" camunda:topic="treatRuleTopic">
          <bpmn:incoming>Flow_1un37bx</bpmn:incoming>
          <bpmn:outgoing>Flow_0phrik5</bpmn:outgoing>
        </bpmn:serviceTask>
        <bpmn:sequenceFlow id="Flow_1rnuuqe" sourceRef="Event_0yflnfj" targetRef="Gateway_16s2b5s" />
        <bpmn:sequenceFlow id="Flow_0phrik5" sourceRef="t04TreatRule" targetRef="Gateway_06r3gqm" />
        <bpmn:exclusiveGateway id="Gateway_06r3gqm" name="treatedSuccess" camunda:asyncBefore="true" default="Flow_1rd9ztp">
          <bpmn:incoming>Flow_0phrik5</bpmn:incoming>
          <bpmn:outgoing>Flow_1rd9ztp</bpmn:outgoing>
          <bpmn:outgoing>Flow_14jfwbo</bpmn:outgoing>
        </bpmn:exclusiveGateway>
        <bpmn:sequenceFlow id="Flow_1rd9ztp" name="true" sourceRef="Gateway_06r3gqm" targetRef="Gateway_01eqxdp" />
        <bpmn:sequenceFlow id="Flow_14jfwbo" sourceRef="Gateway_06r3gqm" targetRef="Event_0pjw46p">
          <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${!treatedSuccess}</bpmn:conditionExpression>
        </bpmn:sequenceFlow>
        <bpmn:endEvent id="Event_0pjw46p" camunda:asyncBefore="true">
          <bpmn:incoming>Flow_14jfwbo</bpmn:incoming>
          <bpmn:signalEventDefinition id="SignalEventDefinition_1v4nmkg" signalRef="Signal_3kp1gpp" />
        </bpmn:endEvent>
        <bpmn:exclusiveGateway id="Gateway_01eqxdp" name="allRulesTreated" default="Flow_0wprw0j">
          <bpmn:incoming>Flow_1rd9ztp</bpmn:incoming>
          <bpmn:outgoing>Flow_190mkcx</bpmn:outgoing>
          <bpmn:outgoing>Flow_0wprw0j</bpmn:outgoing>
        </bpmn:exclusiveGateway>
        <bpmn:sequenceFlow id="Flow_190mkcx" sourceRef="Gateway_01eqxdp" targetRef="Event_15u5yxc">
          <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${allRulesTreated}</bpmn:conditionExpression>
        </bpmn:sequenceFlow>
        <bpmn:exclusiveGateway id="Gateway_16s2b5s">
          <bpmn:incoming>Flow_1rnuuqe</bpmn:incoming>
          <bpmn:incoming>Flow_0wprw0j</bpmn:incoming>
          <bpmn:outgoing>Flow_1un37bx</bpmn:outgoing>
        </bpmn:exclusiveGateway>
        <bpmn:sequenceFlow id="Flow_1un37bx" sourceRef="Gateway_16s2b5s" targetRef="t04TreatRule" />
        <bpmn:sequenceFlow id="Flow_0wprw0j" name="nextRuleRef" sourceRef="Gateway_01eqxdp" targetRef="Gateway_16s2b5s" />
        <bpmn:textAnnotation id="TextAnnotation_1aqzy5g">
          <bpmn:text>i: flowGraf with input
o: treatedSuccess
o. flowGraf with output</bpmn:text>
        </bpmn:textAnnotation>
        <bpmn:association id="Association_1stwcm1" sourceRef="t04TreatRule" targetRef="TextAnnotation_1aqzy5g" />
      </bpmn:subProcess>
      <bpmn:sequenceFlow id="Flow_0wesyaw" sourceRef="p02eachRule" targetRef="Event_1sfbpz8" />
      <bpmn:endEvent id="Event_1sfbpz8">
        <bpmn:incoming>Flow_0wesyaw</bpmn:incoming>
        <bpmn:incoming>Flow_0xfcrdi</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="Flow_1phlcwg" sourceRef="Event_150j8y1" targetRef="p02eachRule" />
      <bpmn:boundaryEvent id="Event_0iexn4b" camunda:asyncBefore="true" attachedToRef="p02eachRule">
        <bpmn:outgoing>Flow_1i91h69</bpmn:outgoing>
        <bpmn:signalEventDefinition id="SignalEventDefinition_1p9u7ds" signalRef="Signal_3kp1gpp" />
      </bpmn:boundaryEvent>
      <bpmn:serviceTask id="t02AppendError" name="T02. append error" camunda:asyncBefore="true" camunda:type="external" camunda:topic="appendErrorTopic">
        <bpmn:incoming>Flow_1i91h69</bpmn:incoming>
        <bpmn:outgoing>Flow_0xfcrdi</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:sequenceFlow id="Flow_1i91h69" sourceRef="Event_0iexn4b" targetRef="t02AppendError" />
      <bpmn:sequenceFlow id="Flow_0xfcrdi" sourceRef="t02AppendError" targetRef="Event_1sfbpz8" />
      <bpmn:textAnnotation id="TextAnnotation_1klompz">
        <bpmn:text>i: flowData
i: usage
o: flowGraf with usage added</bpmn:text>
      </bpmn:textAnnotation>
    </bpmn:subProcess>
    <bpmn:exclusiveGateway id="Gateway_0ts3ajs" default="Flow_11mv6dl">
      <bpmn:incoming>Flow_0us9hv9</bpmn:incoming>
      <bpmn:outgoing>Flow_138h7nb</bpmn:outgoing>
      <bpmn:outgoing>Flow_11mv6dl</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:serviceTask id="t05ExecutionFeedback" name="T05. update execution table to status done , update stats" camunda:asyncBefore="true" camunda:type="external" camunda:topic="executionFeedbackTopic">
      <bpmn:incoming>Flow_07v145w</bpmn:incoming>
      <bpmn:outgoing>Flow_0zi39tj</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_11mv6dl" sourceRef="Gateway_0ts3ajs" targetRef="p02eachUsage" />
    <bpmn:sequenceFlow id="Flow_138h7nb" name="couldNotPrep" sourceRef="Gateway_0ts3ajs" targetRef="Gateway_0dtjjqs">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression"> ${errorCouldNotPrep}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0d3h8yf" sourceRef="t01LoadData" targetRef="d01RulesDecisions" />
    <bpmn:exclusiveGateway id="Gateway_1c1pmc7" name="nothing to do" default="Flow_0us9hv9">
      <bpmn:incoming>Flow_1macdgt</bpmn:incoming>
      <bpmn:outgoing>Flow_18mvsws</bpmn:outgoing>
      <bpmn:outgoing>Flow_0us9hv9</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_18mvsws" sourceRef="Gateway_1c1pmc7" targetRef="Gateway_1ffiq5z">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${!somethingToExecute}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:exclusiveGateway id="Gateway_1qxvgly" name="hasUsageReference" default="Flow_0u6c5gs">
      <bpmn:incoming>Flow_0zi39tj</bpmn:incoming>
      <bpmn:outgoing>Flow_0u6c5gs</bpmn:outgoing>
      <bpmn:outgoing>Flow_01tlee1</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_0u6c5gs" name="false" sourceRef="Gateway_1qxvgly" targetRef="t06RecursiveTopic" />
    <bpmn:serviceTask id="t06RecursiveTopic" name="T06. Recursive trigger" camunda:asyncBefore="true" camunda:type="external" camunda:topic="recursiveTopic">
      <bpmn:incoming>Flow_0u6c5gs</bpmn:incoming>
      <bpmn:outgoing>Flow_1a5fv3d</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_1a5fv3d" sourceRef="t06RecursiveTopic" targetRef="Gateway_1ffiq5z" />
    <bpmn:sequenceFlow id="Flow_01tlee1" name="true" sourceRef="Gateway_1qxvgly" targetRef="Gateway_1ffiq5z">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${hasUsageReference}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0us9hv9" sourceRef="Gateway_1c1pmc7" targetRef="Gateway_0ts3ajs" />
    <bpmn:exclusiveGateway id="Gateway_0dtjjqs">
      <bpmn:incoming>Flow_138h7nb</bpmn:incoming>
      <bpmn:incoming>Flow_10cslmg</bpmn:incoming>
      <bpmn:outgoing>Flow_07v145w</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_07v145w" sourceRef="Gateway_0dtjjqs" targetRef="t05ExecutionFeedback" />
    <bpmn:sequenceFlow id="Flow_1xtaq3r" sourceRef="p02TreatSchedule" targetRef="t00FindNextExecution" />
    <bpmn:exclusiveGateway id="Gateway_1ffiq5z" default="Flow_0zj37ha">
      <bpmn:incoming>Flow_1a5fv3d</bpmn:incoming>
      <bpmn:incoming>Flow_01tlee1</bpmn:incoming>
      <bpmn:incoming>Flow_18mvsws</bpmn:incoming>
      <bpmn:outgoing>Flow_0zj37ha</bpmn:outgoing>
      <bpmn:outgoing>Flow_1ibmm99</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_0zj37ha" sourceRef="Gateway_1ffiq5z" targetRef="Event_09jbwn6" />
    <bpmn:sequenceFlow id="Flow_1macdgt" sourceRef="d01RulesDecisions" targetRef="Gateway_1c1pmc7" />
    <bpmn:businessRuleTask id="d01RulesDecisions" name="D01. Rules Decisions" camunda:asyncBefore="true" camunda:resultVariable="rulesDecisionsResult" camunda:decisionRef="rulesDecisions" camunda:mapDecisionResult="singleResult">
      <bpmn:incoming>Flow_0d3h8yf</bpmn:incoming>
      <bpmn:outgoing>Flow_1macdgt</bpmn:outgoing>
    </bpmn:businessRuleTask>
    <bpmn:sequenceFlow id="Flow_0zi39tj" sourceRef="t05ExecutionFeedback" targetRef="Gateway_1qxvgly" />
    <bpmn:intermediateCatchEvent id="tokenHold" name="tokenHold">
      <bpmn:incoming>Flow_1ibmm99</bpmn:incoming>
      <bpmn:outgoing>Flow_1rp5zot</bpmn:outgoing>
      <bpmn:timerEventDefinition id="TimerEventDefinition_1we9scf">
        <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">P90D</bpmn:timeDuration>
      </bpmn:timerEventDefinition>
    </bpmn:intermediateCatchEvent>
    <bpmn:sequenceFlow id="Flow_1ibmm99" sourceRef="Gateway_1ffiq5z" targetRef="tokenHold">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${rulesDecisionsResult.tokenHold}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1rp5zot" sourceRef="tokenHold" targetRef="Event_09jbwn6" />
    <bpmn:sequenceFlow id="Flow_10cslmg" sourceRef="p02eachUsage" targetRef="Gateway_0dtjjqs" />
    <bpmn:sequenceFlow id="Flow_1pngowx" sourceRef="t00FindNextExecution" targetRef="t01LoadData" />
    <bpmn:serviceTask id="t00FindNextExecution" name="T00. Find next execution + status running" camunda:asyncBefore="true" camunda:type="external" camunda:topic="findNextExecutionTopic">
      <bpmn:incoming>Flow_1xtaq3r</bpmn:incoming>
      <bpmn:outgoing>Flow_1pngowx</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:textAnnotation id="TextAnnotation_1n4tnkd">
      <bpmn:text>sequentially is ok , like this we assure no race conditions</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:textAnnotation id="TextAnnotation_1mrxhll">
      <bpmn:text>i:executionId (optional)</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_1xm8lyw" sourceRef="p02TreatSchedule" targetRef="TextAnnotation_1mrxhll" />
  </bpmn:process>
  <bpmn:error id="Error_0en3uo1" name="ERROR_TREATMENT" errorCode="ERROR_USAGE_BPMN" />
  <bpmn:signal id="Signal_2nv0fg0" name="Signal_2nv0fg0" />
  <bpmn:escalation id="Escalation_2ebv3fq" name="usageNotTreatedSignal" escalationCode="usageNotTreatedSignal" />
  <bpmn:signal id="Signal_3kp1gpp" name="usageNotTreatedSignal" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="p02Scheduling">
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="p02TreatSchedule">
        <dc:Bounds x="192" y="432" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="187" y="475" width="48" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1a6kvs3_di" bpmnElement="t01LoadData">
        <dc:Bounds x="400" y="410" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_09jbwn6_di" bpmnElement="Event_09jbwn6">
        <dc:Bounds x="2522" y="432" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_07b5d67_di" bpmnElement="p02eachUsage" isExpanded="true">
        <dc:Bounds x="900" y="152" width="980" height="558" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_150j8y1_di" bpmnElement="Event_150j8y1">
        <dc:Bounds x="992" y="432" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0wa8ckv" bpmnElement="p02eachRule" isExpanded="true">
        <dc:Bounds x="1090" y="240" width="650" height="340" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0ibiv9d" bpmnElement="Event_0yflnfj">
        <dc:Bounds x="1122" y="432" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0g76fqn" bpmnElement="Event_15u5yxc">
        <dc:Bounds x="1662" y="432" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_164lomq_di" bpmnElement="Event_0pjw46p">
        <dc:Bounds x="1662" y="352" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_1aqzy5g_di" bpmnElement="TextAnnotation_1aqzy5g" bioc:stroke="#831311" bioc:fill="#ffcdd2" color:background-color="#ffcdd2" color:border-color="#831311">
        <dc:Bounds x="1210" y="290" width="150" height="55" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_01eqxdp_di" bpmnElement="Gateway_01eqxdp" isMarkerVisible="true">
        <dc:Bounds x="1545" y="425" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1532" y="401" width="77" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_16s2b5s_di" bpmnElement="Gateway_16s2b5s" isMarkerVisible="true">
        <dc:Bounds x="1175" y="425" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0134st2" bpmnElement="Gateway_06r3gqm" isMarkerVisible="true">
        <dc:Bounds x="1405" y="425" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1392" y="482" width="76" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1lehoq7" bpmnElement="t04TreatRule">
        <dc:Bounds x="1260" y="410" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_1stwcm1_di" bpmnElement="Association_1stwcm1">
        <di:waypoint x="1295" y="410" />
        <di:waypoint x="1270" y="345" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_1cf0omg" bpmnElement="Flow_1rnuuqe">
        <di:waypoint x="1158" y="450" />
        <di:waypoint x="1175" y="450" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_1np2adf" bpmnElement="Flow_0phrik5">
        <di:waypoint x="1360" y="450" />
        <di:waypoint x="1405" y="450" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_11t1j8q" bpmnElement="Flow_1rd9ztp">
        <di:waypoint x="1455" y="450" />
        <di:waypoint x="1545" y="450" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1499" y="432" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_14jfwbo_di" bpmnElement="Flow_14jfwbo">
        <di:waypoint x="1430" y="425" />
        <di:waypoint x="1430" y="370" />
        <di:waypoint x="1662" y="370" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_190mkcx_di" bpmnElement="Flow_190mkcx">
        <di:waypoint x="1595" y="450" />
        <di:waypoint x="1662" y="450" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1un37bx_di" bpmnElement="Flow_1un37bx">
        <di:waypoint x="1225" y="450" />
        <di:waypoint x="1260" y="450" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0wprw0j_di" bpmnElement="Flow_0wprw0j">
        <di:waypoint x="1570" y="475" />
        <di:waypoint x="1570" y="540" />
        <di:waypoint x="1200" y="540" />
        <di:waypoint x="1200" y="475" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1354" y="522" width="62" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Event_1sfbpz8_di" bpmnElement="Event_1sfbpz8">
        <dc:Bounds x="1792" y="432" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1691" y="475" width="79" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_08idojb_di" bpmnElement="t02AppendError">
        <dc:Bounds x="1760" y="610" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_1klompz_di" bpmnElement="TextAnnotation_1klompz">
        <dc:Bounds x="950" y="220" width="120" height="70" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1g4uj2i_di" bpmnElement="Event_0iexn4b">
        <dc:Bounds x="1662" y="562" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0wesyaw_di" bpmnElement="Flow_0wesyaw">
        <di:waypoint x="1740" y="450" />
        <di:waypoint x="1792" y="450" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1phlcwg_di" bpmnElement="Flow_1phlcwg">
        <di:waypoint x="1028" y="450" />
        <di:waypoint x="1090" y="450" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1i91h69_di" bpmnElement="Flow_1i91h69">
        <di:waypoint x="1680" y="598" />
        <di:waypoint x="1680" y="650" />
        <di:waypoint x="1760" y="650" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0xfcrdi_di" bpmnElement="Flow_0xfcrdi">
        <di:waypoint x="1810" y="610" />
        <di:waypoint x="1810" y="468" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Gateway_0ts3ajs_di" bpmnElement="Gateway_0ts3ajs" isMarkerVisible="true">
        <dc:Bounds x="805" y="425" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0h9kt9i" bpmnElement="t05ExecutionFeedback">
        <dc:Bounds x="1990" y="410" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1c1pmc7_di" bpmnElement="Gateway_1c1pmc7" isMarkerVisible="true">
        <dc:Bounds x="715" y="425" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="698" y="543" width="65" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1qxvgly_di" bpmnElement="Gateway_1qxvgly" isMarkerVisible="true">
        <dc:Bounds x="2125" y="425" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2110" y="482" width="84" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0arg0wb" bpmnElement="t06RecursiveTopic" bioc:stroke="#205022" bioc:fill="#c8e6c9" color:background-color="#c8e6c9" color:border-color="#205022">
        <dc:Bounds x="2250" y="410" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0dtjjqs_di" bpmnElement="Gateway_0dtjjqs" isMarkerVisible="true">
        <dc:Bounds x="1915" y="425" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1ffiq5z_di" bpmnElement="Gateway_1ffiq5z" isMarkerVisible="true">
        <dc:Bounds x="2425" y="425" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0a9i4rq_di" bpmnElement="d01RulesDecisions">
        <dc:Bounds x="550" y="410" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1m8dr00_di" bpmnElement="tokenHold">
        <dc:Bounds x="2522" y="192" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2515" y="168" width="49" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0abrchi_di" bpmnElement="t00FindNextExecution">
        <dc:Bounds x="260" y="410" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1fcf0v7" bpmnElement="TextAnnotation_1n4tnkd">
        <dc:Bounds x="900" y="630" width="370" height="30" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_1mrxhll_di" bpmnElement="TextAnnotation_1mrxhll">
        <dc:Bounds x="160" y="331" width="140" height="27" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_11mv6dl_di" bpmnElement="Flow_11mv6dl">
        <di:waypoint x="855" y="450" />
        <di:waypoint x="900" y="450" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_138h7nb_di" bpmnElement="Flow_138h7nb">
        <di:waypoint x="830" y="425" />
        <di:waypoint x="830" y="100" />
        <di:waypoint x="1940" y="100" />
        <di:waypoint x="1940" y="425" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1352" y="82" width="67" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0d3h8yf_di" bpmnElement="Flow_0d3h8yf">
        <di:waypoint x="500" y="450" />
        <di:waypoint x="550" y="450" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_18mvsws_di" bpmnElement="Flow_18mvsws">
        <di:waypoint x="740" y="475" />
        <di:waypoint x="740" y="760" />
        <di:waypoint x="2450" y="760" />
        <di:waypoint x="2450" y="475" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0u6c5gs_di" bpmnElement="Flow_0u6c5gs">
        <di:waypoint x="2175" y="450" />
        <di:waypoint x="2250" y="450" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2202" y="432" width="24" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1a5fv3d_di" bpmnElement="Flow_1a5fv3d">
        <di:waypoint x="2350" y="450" />
        <di:waypoint x="2425" y="450" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_01tlee1_di" bpmnElement="Flow_01tlee1">
        <di:waypoint x="2150" y="425" />
        <di:waypoint x="2150" y="330" />
        <di:waypoint x="2450" y="330" />
        <di:waypoint x="2450" y="425" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2205" y="296" width="19" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0us9hv9_di" bpmnElement="Flow_0us9hv9">
        <di:waypoint x="765" y="450" />
        <di:waypoint x="805" y="450" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_07v145w_di" bpmnElement="Flow_07v145w">
        <di:waypoint x="1965" y="450" />
        <di:waypoint x="1990" y="450" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1xtaq3r_di" bpmnElement="Flow_1xtaq3r">
        <di:waypoint x="228" y="450" />
        <di:waypoint x="260" y="450" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0zj37ha_di" bpmnElement="Flow_0zj37ha">
        <di:waypoint x="2475" y="450" />
        <di:waypoint x="2522" y="450" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1macdgt_di" bpmnElement="Flow_1macdgt">
        <di:waypoint x="650" y="450" />
        <di:waypoint x="715" y="450" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0zi39tj_di" bpmnElement="Flow_0zi39tj">
        <di:waypoint x="2090" y="450" />
        <di:waypoint x="2125" y="450" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ibmm99_di" bpmnElement="Flow_1ibmm99">
        <di:waypoint x="2460" y="435" />
        <di:waypoint x="2460" y="210" />
        <di:waypoint x="2522" y="210" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1rp5zot_di" bpmnElement="Flow_1rp5zot">
        <di:waypoint x="2540" y="228" />
        <di:waypoint x="2540" y="432" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_10cslmg_di" bpmnElement="Flow_10cslmg">
        <di:waypoint x="1880" y="450" />
        <di:waypoint x="1915" y="450" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1pngowx_di" bpmnElement="Flow_1pngowx">
        <di:waypoint x="360" y="450" />
        <di:waypoint x="400" y="450" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_1xm8lyw_di" bpmnElement="Association_1xm8lyw">
        <di:waypoint x="210" y="432" />
        <di:waypoint x="210" y="358" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
